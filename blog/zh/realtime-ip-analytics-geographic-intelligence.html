<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®æ—¶IPåˆ†æå’Œåœ°ç†æƒ…æŠ¥å®Œæ•´æŒ‡å— - WhatsTheirIP</title>
    <meta name="description" content="æ·±å…¥äº†è§£å®æ—¶IPåˆ†ææŠ€æœ¯ï¼ŒæŒæ¡åœ°ç†æƒ…æŠ¥æ”¶é›†ã€è®¾å¤‡æ£€æµ‹ã€å¨èƒè¯†åˆ«å’Œç½‘ç»œç›‘æ§çš„ä¸“ä¸šæ–¹æ³•ã€‚">
    <meta name="keywords" content="å®æ—¶IPåˆ†æ, åœ°ç†æƒ…æŠ¥, è®¾å¤‡æ£€æµ‹, ç½‘ç»œç›‘æ§, IPè¿½è¸ª, WhatsTheirIP">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="canonical" href="https://whatstheirip.com/blog/zh/realtime-ip-analytics-geographic-intelligence.html">
    <meta property="og:title" content="å®æ—¶IPåˆ†æå’Œåœ°ç†æƒ…æŠ¥å®Œæ•´æŒ‡å— - WhatsTheirIP">
    <meta property="og:description" content="æ·±å…¥äº†è§£å®æ—¶IPåˆ†ææŠ€æœ¯ï¼ŒæŒæ¡åœ°ç†æƒ…æŠ¥æ”¶é›†ã€è®¾å¤‡æ£€æµ‹ã€å¨èƒè¯†åˆ«å’Œç½‘ç»œç›‘æ§çš„ä¸“ä¸šæ–¹æ³•ã€‚">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://whatstheirip.com/blog/zh/realtime-ip-analytics-geographic-intelligence.html">
    <style>
        .hero-section {
            background: linear-gradient(135deg, #2980b9 0%, #8e44ad 100%);
            color: white;
            padding: 60px 0;
        }
        .feature-card {
            transition: transform 0.3s ease;
            border: none;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .feature-card:hover {
            transform: translateY(-5px);
        }
        .code-block {
            background-color: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 15px;
            margin: 20px 0;
        }
        .analytics-box {
            background: linear-gradient(45deg, #74b9ff, #0984e3);
            color: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .warning-box {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }
        .success-box {
            background-color: #d1edff;
            border: 1px solid #74b9ff;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }
        .metric-card {
            background: linear-gradient(135deg, #00cec9, #55a3ff);
            color: white;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="../../index.html">WhatsTheirIP</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../../index.html">é¦–é¡µ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html">åšå®¢</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../realtime-ip-analytics-geographic-intelligence.html">English</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto text-center">
                    <h1 class="display-4 fw-bold mb-4">å®æ—¶IPåˆ†æå’Œåœ°ç†æƒ…æŠ¥å®Œæ•´æŒ‡å—</h1>
                    <p class="lead mb-4">æŒæ¡å®æ—¶IPåˆ†ææŠ€æœ¯ï¼Œè·å¾—å¼ºå¤§çš„åœ°ç†æƒ…æŠ¥èƒ½åŠ›ï¼Œå¢å¼ºç½‘ç»œå®‰å…¨é˜²æŠ¤å’Œä¸šåŠ¡æ´å¯Ÿ</p>
                    <p class="text-light"><i class="bi bi-calendar"></i> 2025å¹´6æœˆ3æ—¥æ›´æ–°</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container my-5">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <!-- Introduction -->
                <section class="mb-5">
                    <h2>ä»€ä¹ˆæ˜¯å®æ—¶IPåˆ†æï¼Ÿ</h2>
                    <p>å®æ—¶IPåˆ†ææ˜¯ä¸€ç§å…ˆè¿›çš„ç½‘ç»œæƒ…æŠ¥æŠ€æœ¯ï¼Œé€šè¿‡å³æ—¶åˆ†æIPåœ°å€ä¿¡æ¯æ¥è·å¾—å…³äºç½‘ç»œè®¿é—®è€…çš„è¯¦ç»†æ´å¯Ÿã€‚WhatsTheirIPå¹³å°æä¾›ä¼ä¸šçº§çš„å®æ—¶IPåˆ†ææœåŠ¡ï¼Œç»“åˆåœ°ç†å®šä½ã€è®¾å¤‡è¯†åˆ«ã€å¨èƒæ£€æµ‹ç­‰å¤šç»´åº¦æ•°æ®ï¼Œä¸ºç”¨æˆ·æä¾›å…¨é¢çš„ç½‘ç»œæƒ…æŠ¥è§£å†³æ–¹æ¡ˆã€‚</p>
                    
                    <div class="analytics-box">
                        <h5><i class="bi bi-globe text-white"></i> æ ¸å¿ƒåˆ†æç»´åº¦</h5>
                        <div class="row mt-3">
                            <div class="col-md-6">
                                <ul class="text-white mb-0">
                                    <li><strong>åœ°ç†ä½ç½®</strong>ï¼šå›½å®¶ã€åŸå¸‚ã€ç»çº¬åº¦å®šä½</li>
                                    <li><strong>ç½‘ç»œä¿¡æ¯</strong>ï¼šISPã€ASNã€ç½‘ç»œç±»å‹</li>
                                    <li><strong>è®¾å¤‡æ£€æµ‹</strong>ï¼šæ“ä½œç³»ç»Ÿã€æµè§ˆå™¨ã€è®¾å¤‡ç±»å‹</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="text-white mb-0">
                                    <li><strong>å®‰å…¨è¯„çº§</strong>ï¼šå¨èƒçº§åˆ«ã€ä»£ç†æ£€æµ‹</li>
                                    <li><strong>æ—¶åŒºä¿¡æ¯</strong>ï¼šæœ¬åœ°æ—¶é—´ã€UTCåç§»</li>
                                    <li><strong>è¿æ¥è´¨é‡</strong>ï¼šå»¶è¿Ÿã€å¸¦å®½ä¼°ç®—</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Real-time Analytics Architecture -->
                <section class="mb-5">
                    <h2>å®æ—¶åˆ†ææ¶æ„</h2>
                    <p>WhatsTheirIPçš„å®æ—¶IPåˆ†æç³»ç»Ÿé‡‡ç”¨åˆ†å¸ƒå¼æ¶æ„ï¼Œç¡®ä¿æ¯«ç§’çº§å“åº”æ—¶é—´å’Œå…¨çƒèŒƒå›´çš„æ•°æ®è¦†ç›–ã€‚</p>

                    <div class="row g-4 mt-3">
                        <div class="col-md-6">
                            <div class="card feature-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title text-primary">âš¡ é«˜é€Ÿæ•°æ®å¤„ç†</h5>
                                    <p class="card-text">é‡‡ç”¨å†…å­˜æ•°æ®åº“å’ŒCDNåŠ é€Ÿï¼Œç¡®ä¿äºšç§’çº§å“åº”æ—¶é—´ï¼Œæ”¯æŒæ¯ç§’æ•°ç™¾ä¸‡æ¬¡æŸ¥è¯¢ã€‚</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card feature-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title text-primary">ğŸŒ å…¨çƒæ•°æ®ä¸­å¿ƒ</h5>
                                    <p class="card-text">åœ¨å…¨çƒå¤šä¸ªåœ°åŒºéƒ¨ç½²æ•°æ®ä¸­å¿ƒï¼Œæä¾›æœ€ä½å»¶è¿Ÿçš„æœ¬åœ°åŒ–IPåˆ†ææœåŠ¡ã€‚</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card feature-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title text-primary">ğŸ”„ å®æ—¶æ•°æ®åŒæ­¥</h5>
                                    <p class="card-text">æŒç»­æ›´æ–°IPåœ°å€æ•°æ®åº“ï¼Œç¡®ä¿åœ°ç†ä½ç½®å’Œç½‘ç»œä¿¡æ¯çš„å‡†ç¡®æ€§å’Œæ—¶æ•ˆæ€§ã€‚</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card feature-card h-100">
                                <div class="card-body">
                                    <h5 class="card-title text-primary">ğŸ“Š æ™ºèƒ½åˆ†æå¼•æ“</h5>
                                    <p class="card-text">é›†æˆæœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæä¾›æ™ºèƒ½å¨èƒæ£€æµ‹å’Œå¼‚å¸¸è¡Œä¸ºè¯†åˆ«åŠŸèƒ½ã€‚</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Implementation Guide -->
                <section class="mb-5">
                    <h2>å®æ—¶IPåˆ†æå®æ–½æŒ‡å—</h2>
                    <p>ä»¥ä¸‹æ˜¯ä½¿ç”¨WhatsTheirIPå¹³å°å®æ–½å®æ—¶IPåˆ†æçš„è¯¦ç»†æ­¥éª¤å’Œä»£ç ç¤ºä¾‹ï¼š</p>

                    <h3 class="mt-4">1. åŸºç¡€IPåˆ†æAPIè°ƒç”¨</h3>
                    <div class="code-block">
                        <h6>JavaScriptå®æ—¶IPåˆ†æï¼š</h6>
                        <pre><code>// è·å–è®¿é—®è€…IPå¹¶è¿›è¡Œå®æ—¶åˆ†æ
async function analyzeVisitorIP() {
    try {
        // è·å–è®¿é—®è€…IP
        const ipResponse = await fetch('https://api.whatstheirip.com/get-ip');
        const ipData = await ipResponse.json();
        const visitorIP = ipData.ip;
        
        // å®æ—¶IPåˆ†æ
        const analysisResponse = await fetch(
            `https://grabify.icu/analyze/${visitorIP}?format=json&detailed=true`, 
            {
                headers: {
                    'Authorization': 'Bearer YOUR_API_KEY',
                    'User-Agent': 'WhatsTheirIP-Client/1.0'
                }
            }
        );
        
        const analysis = await analysisResponse.json();
        
        return {
            ip: visitorIP,
            location: {
                country: analysis.country,
                city: analysis.city,
                latitude: analysis.lat,
                longitude: analysis.lon,
                timezone: analysis.timezone
            },
            network: {
                isp: analysis.isp,
                organization: analysis.org,
                asn: analysis.as
            },
            security: {
                proxy: analysis.proxy,
                vpn: analysis.vpn,
                threat_level: analysis.threat_score
            },
            device: {
                platform: analysis.platform,
                browser: analysis.browser,
                mobile: analysis.mobile
            }
        };
    } catch (error) {
        console.error('IPåˆ†æå¤±è´¥:', error);
        return null;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
analyzeVisitorIP().then(data => {
    if (data) {
        console.log('è®¿é—®è€…åˆ†æç»“æœ:', data);
        updateAnalyticsDashboard(data);
    }
});</code></pre>
                    </div>

                    <h3 class="mt-4">2. æ‰¹é‡IPåˆ†æå¤„ç†</h3>
                    <div class="code-block">
                        <h6>PHPæ‰¹é‡IPåˆ†æç³»ç»Ÿï¼š</h6>
                        <pre><code>&lt;?php
class WhatsTheirIPAnalyzer {
    private $apiKey;
    private $baseUrl = 'https://grabify.icu/api';
    
    public function __construct($apiKey) {
        $this->apiKey = $apiKey;
    }
    
    // æ‰¹é‡IPåˆ†æ
    public function batchAnalyze($ipAddresses) {
        $results = [];
        $batchSize = 100; // æ¯æ‰¹å¤„ç†100ä¸ªIP
        
        $batches = array_chunk($ipAddresses, $batchSize);
        
        foreach ($batches as $batch) {
            $batchResults = $this->processBatch($batch);
            $results = array_merge($results, $batchResults);
            
            // é¿å…APIé™åˆ¶
            usleep(100000); // 0.1ç§’å»¶è¿Ÿ
        }
        
        return $results;
    }
    
    private function processBatch($ipBatch) {
        $postData = json_encode([
            'ips' => $ipBatch,
            'fields' => ['country', 'city', 'isp', 'proxy', 'threat_score']
        ]);
        
        $ch = curl_init();
        curl_setopt_array($ch, [
            CURLOPT_URL => $this->baseUrl . '/batch-analyze',
            CURLOPT_POST => true,
            CURLOPT_POSTFIELDS => $postData,
            CURLOPT_RETURNTRANSFER => true,
            CURLOPT_HTTPHEADER => [
                'Authorization: Bearer ' . $this->apiKey,
                'Content-Type: application/json',
                'Content-Length: ' . strlen($postData)
            ],
            CURLOPT_TIMEOUT => 30
        ]);
        
        $response = curl_exec($ch);
        $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
        curl_close($ch);
        
        if ($httpCode === 200) {
            return json_decode($response, true);
        }
        
        return [];
    }
    
    // å®æ—¶å¨èƒæ£€æµ‹
    public function checkThreat($ip) {
        $url = $this->baseUrl . "/threat-check/{$ip}";
        
        $context = stream_context_create([
            'http' => [
                'method' => 'GET',
                'header' => "Authorization: Bearer {$this->apiKey}\r\n"
            ]
        ]);
        
        $response = file_get_contents($url, false, $context);
        $data = json_decode($response, true);
        
        return [
            'is_threat' => $data['is_threat'],
            'threat_score' => $data['score'],
            'threat_types' => $data['types'],
            'recommendation' => $data['action']
        ];
    }
}

// ä½¿ç”¨ç¤ºä¾‹
$analyzer = new WhatsTheirIPAnalyzer('YOUR_API_KEY');

// åˆ†æå•ä¸ªIPçš„å¨èƒçº§åˆ«
$threatInfo = $analyzer->checkThreat('192.168.1.1');
if ($threatInfo['is_threat']) {
    echo "æ£€æµ‹åˆ°å¨èƒ: " . implode(', ', $threatInfo['threat_types']);
}

// æ‰¹é‡åˆ†æå¤šä¸ªIP
$ipList = ['1.1.1.1', '8.8.8.8', '192.168.1.1'];
$results = $analyzer->batchAnalyze($ipList);
foreach ($results as $result) {
    echo "IP: {$result['ip']} - å›½å®¶: {$result['country']} - ISP: {$result['isp']}\n";
}
?&gt;</code></pre>
                    </div>

                    <h3 class="mt-4">3. å®æ—¶åœ°ç†æƒ…æŠ¥ä»ªè¡¨æ¿</h3>
                    <div class="code-block">
                        <h6>Reactå®æ—¶åˆ†æä»ªè¡¨æ¿ï¼š</h6>
                        <pre><code>import React, { useState, useEffect } from 'react';

const RealTimeAnalyticsDashboard = () => {
    const [analytics, setAnalytics] = useState({
        activeVisitors: 0,
        countries: {},
        threats: [],
        devices: {}
    });

    useEffect(() => {
        // å»ºç«‹WebSocketè¿æ¥è·å–å®æ—¶æ•°æ®
        const ws = new WebSocket('wss://api.whatstheirip.com/live-analytics');
        
        ws.onmessage = (event) => {
            const data = JSON.parse(event.data);
            updateAnalytics(data);
        };

        // å®šæœŸè·å–èšåˆæ•°æ®
        const interval = setInterval(fetchAggregatedData, 5000);

        return () => {
            ws.close();
            clearInterval(interval);
        };
    }, []);

    const fetchAggregatedData = async () => {
        try {
            const response = await fetch('https://api.whatstheirip.com/analytics/summary', {
                headers: {
                    'Authorization': 'Bearer YOUR_API_KEY'
                }
            });
            const data = await response.json();
            
            setAnalytics(prev => ({
                ...prev,
                countries: data.geographic_distribution,
                devices: data.device_breakdown,
                threats: data.recent_threats
            }));
        } catch (error) {
            console.error('è·å–åˆ†ææ•°æ®å¤±è´¥:', error);
        }
    };

    const updateAnalytics = (newData) => {
        setAnalytics(prev => ({
            ...prev,
            activeVisitors: newData.active_count,
            countries: {
                ...prev.countries,
                [newData.country]: (prev.countries[newData.country] || 0) + 1
            }
        }));
    };

    return (
        &lt;div className="analytics-dashboard"&gt;
            &lt;div className="metrics-row"&gt;
                &lt;div className="metric-card"&gt;
                    &lt;h3&gt;{analytics.activeVisitors}&lt;/h3&gt;
                    &lt;p&gt;å®æ—¶è®¿é—®è€…&lt;/p&gt;
                &lt;/div&gt;
                &lt;div className="metric-card"&gt;
                    &lt;h3&gt;{Object.keys(analytics.countries).length}&lt;/h3&gt;
                    &lt;p&gt;æ´»è·ƒå›½å®¶&lt;/p&gt;
                &lt;/div&gt;
                &lt;div className="metric-card"&gt;
                    &lt;h3&gt;{analytics.threats.length}&lt;/h3&gt;
                    &lt;p&gt;å¨èƒæ£€æµ‹&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            
            &lt;div className="charts-section"&gt;
                &lt;GeographicMap countries={analytics.countries} /&gt;
                &lt;ThreatsList threats={analytics.threats} /&gt;
                &lt;DeviceBreakdown devices={analytics.devices} /&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    );
};

export default RealTimeAnalyticsDashboard;</code></pre>
                    </div>
                </section>

                <!-- Geographic Intelligence -->
                <section class="mb-5">
                    <h2>åœ°ç†æƒ…æŠ¥æ·±åº¦åˆ†æ</h2>
                    
                    <div class="success-box">
                        <h5><i class="bi bi-globe text-success"></i> åœ°ç†æƒ…æŠ¥èƒ½åŠ›</h5>
                        <p class="mb-2">WhatsTheirIPå¹³å°çš„åœ°ç†æƒ…æŠ¥ç³»ç»Ÿæä¾›å¤šå±‚æ¬¡çš„ä½ç½®åˆ†æï¼š</p>
                        <ul class="mb-0">
                            <li><strong>ç²¾ç¡®å®šä½</strong>ï¼šåŸå¸‚çº§åˆ«å®šä½ï¼Œå¹³å‡ç²¾åº¦åŠå¾„å°äº50å…¬é‡Œ</li>
                            <li><strong>ç½‘ç»œæ‹“æ‰‘</strong>ï¼šISPç½‘ç»œç»“æ„å’Œè·¯ç”±è·¯å¾„åˆ†æ</li>
                            <li><strong>æ—¶åŒºæ™ºèƒ½</strong>ï¼šè‡ªåŠ¨æ—¶åŒºæ£€æµ‹å’Œæœ¬åœ°æ—¶é—´è®¡ç®—</li>
                            <li><strong>ç»æµæŒ‡æ ‡</strong>ï¼šåŸºäºåœ°ç†ä½ç½®çš„ç»æµå‘å±•æ°´å¹³è¯„ä¼°</li>
                        </ul>
                    </div>

                    <h3 class="mt-4">é«˜çº§åœ°ç†åˆ†æåŠŸèƒ½</h3>
                    <div class="row g-4">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h6 class="card-title">ğŸ—ºï¸ åœ°ç†å›´æ æ£€æµ‹</h6>
                                    <p class="card-text">åŸºäºé¢„å®šä¹‰çš„åœ°ç†åŒºåŸŸè¿›è¡Œè®¿é—®æ§åˆ¶å’Œåˆè§„æ€§æ£€æŸ¥ã€‚</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h6 class="card-title">ğŸ“ ä½ç½®å†å²è¿½è¸ª</h6>
                                    <p class="card-text">è·Ÿè¸ªIPåœ°å€çš„ä½ç½®å˜åŒ–å†å²ï¼Œè¯†åˆ«å¯ç–‘çš„ä½ç½®è·³è½¬ã€‚</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h6 class="card-title">ğŸŒ ç½‘ç»œè·¯å¾„åˆ†æ</h6>
                                    <p class="card-text">åˆ†ææ•°æ®åŒ…è·¯ç”±è·¯å¾„ï¼Œè¯†åˆ«ç½‘ç»œå»¶è¿Ÿå’Œæ€§èƒ½ç“¶é¢ˆã€‚</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h6 class="card-title">ğŸ¢ ä¼ä¸šç½‘ç»œè¯†åˆ«</h6>
                                    <p class="card-text">è¯†åˆ«ä¼ä¸šä¸“ç”¨ç½‘ç»œå’Œæ•°æ®ä¸­å¿ƒIPåœ°å€æ®µã€‚</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="code-block mt-4">
                        <h6>åœ°ç†å›´æ å®æ–½ç¤ºä¾‹ï¼š</h6>
                        <pre><code>// åœ°ç†å›´æ æ£€æŸ¥åŠŸèƒ½
class GeofenceAnalyzer {
    constructor(apiKey) {
        this.apiKey = apiKey;
        this.geofences = new Map();
    }
    
    // æ·»åŠ åœ°ç†å›´æ 
    addGeofence(name, center, radius) {
        this.geofences.set(name, {
            center: center, // {lat: 40.7128, lng: -74.0060}
            radius: radius  // åŠå¾„ï¼ˆå…¬é‡Œï¼‰
        });
    }
    
    // æ£€æŸ¥IPæ˜¯å¦åœ¨åœ°ç†å›´æ å†…
    async checkGeofence(ip, fenceName) {
        const location = await this.getIPLocation(ip);
        const fence = this.geofences.get(fenceName);
        
        if (!fence || !location) return false;
        
        const distance = this.calculateDistance(
            location.lat, location.lng,
            fence.center.lat, fence.center.lng
        );
        
        return distance <= fence.radius;
    }
    
    async getIPLocation(ip) {
        const response = await fetch(
            `https://grabify.icu/api/geolocate/${ip}`,
            {
                headers: {
                    'Authorization': `Bearer ${this.apiKey}`
                }
            }
        );
        return await response.json();
    }
    
    // è®¡ç®—ä¸¤ç‚¹é—´è·ç¦»ï¼ˆå…¬é‡Œï¼‰
    calculateDistance(lat1, lng1, lat2, lng2) {
        const R = 6371; // åœ°çƒåŠå¾„
        const dLat = this.deg2rad(lat2 - lat1);
        const dLng = this.deg2rad(lng2 - lng1);
        const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                  Math.cos(this.deg2rad(lat1)) * Math.cos(this.deg2rad(lat2)) *
                  Math.sin(dLng/2) * Math.sin(dLng/2);
        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
        return R * c;
    }
    
    deg2rad(deg) {
        return deg * (Math.PI/180);
    }
}

// ä½¿ç”¨ç¤ºä¾‹
const analyzer = new GeofenceAnalyzer('YOUR_API_KEY');

// è®¾ç½®çº½çº¦å¸‚åœ°ç†å›´æ 
analyzer.addGeofence('NYC', {lat: 40.7128, lng: -74.0060}, 50);

// æ£€æŸ¥IPæ˜¯å¦åœ¨çº½çº¦å¸‚å›´æ å†…
analyzer.checkGeofence('192.168.1.1', 'NYC').then(isInside => {
    if (isInside) {
        console.log('è®¿é—®è€…ä½äºçº½çº¦å¸‚èŒƒå›´å†…');
    } else {
        console.log('è®¿é—®è€…ä½äºçº½çº¦å¸‚èŒƒå›´å¤–');
    }
});</code></pre>
                    </div>
                </section>

                <!-- Security and Threat Detection -->
                <section class="mb-5">
                    <h2>å®‰å…¨å¨èƒæ£€æµ‹ä¸é˜²æŠ¤</h2>
                    
                    <div class="warning-box">
                        <h5><i class="bi bi-shield-exclamation text-warning"></i> å¨èƒç±»å‹è¯†åˆ«</h5>
                        <div class="row mt-3">
                            <div class="col-md-6">
                                <ul class="mb-0">
                                    <li><strong>ä»£ç†æ£€æµ‹</strong>ï¼šHTTP/HTTPSä»£ç†è¯†åˆ«</li>
                                    <li><strong>VPNè¯†åˆ«</strong>ï¼šå•†ä¸šå’Œå…è´¹VPNæœåŠ¡æ£€æµ‹</li>
                                    <li><strong>Torç½‘ç»œ</strong>ï¼šæš—ç½‘æµé‡è¯†åˆ«</li>
                                    <li><strong>åƒµå°¸ç½‘ç»œ</strong>ï¼šå·²çŸ¥æ¶æ„IPæ•°æ®åº“æ¯”å¯¹</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="mb-0">
                                    <li><strong>æ•°æ®ä¸­å¿ƒIP</strong>ï¼šäº‘æœåŠ¡å™¨å’Œæ‰˜ç®¡IPæ£€æµ‹</li>
                                    <li><strong>æ¶æ„è½¯ä»¶</strong>ï¼šC&CæœåŠ¡å™¨IPè¯†åˆ«</li>
                                    <li><strong>æ‰«ææ´»åŠ¨</strong>ï¼šç«¯å£æ‰«æå’Œæš´åŠ›ç ´è§£æ£€æµ‹</li>
                                    <li><strong>å¼‚å¸¸è¡Œä¸º</strong>ï¼šåŸºäºMLçš„å¼‚å¸¸æ¨¡å¼è¯†åˆ«</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="row g-4 mt-3">
                        <div class="col-md-4">
                            <div class="metric-card">
                                <h4>99.8%</h4>
                                <p>å¨èƒæ£€æµ‹å‡†ç¡®ç‡</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="metric-card">
                                <h4>&lt;50ms</h4>
                                <p>å¨èƒè¯„ä¼°å“åº”æ—¶é—´</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="metric-card">
                                <h4>24/7</h4>
                                <p>å®æ—¶å¨èƒç›‘æ§</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Performance Optimization -->
                <section class="mb-5">
                    <h2>æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ</h2>
                    
                    <h3 class="mt-4">APIè°ƒç”¨ä¼˜åŒ–ç­–ç•¥</h3>
                    <div class="code-block">
                        <h6>æ™ºèƒ½ç¼“å­˜å’Œæ‰¹å¤„ç†ï¼š</h6>
                        <pre><code>// IPåˆ†æç»“æœç¼“å­˜ç®¡ç†
class IPAnalyticsCache {
    constructor(cacheSize = 10000, ttl = 3600000) { // 1å°æ—¶TTL
        this.cache = new Map();
        this.maxSize = cacheSize;
        this.ttl = ttl;
        this.accessOrder = new Map();
    }
    
    async analyze(ip) {
        // æ£€æŸ¥ç¼“å­˜
        const cached = this.get(ip);
        if (cached) {
            return cached;
        }
        
        // æ‰§è¡Œæ–°åˆ†æ
        const result = await this.performAnalysis(ip);
        this.set(ip, result);
        
        return result;
    }
    
    get(ip) {
        const item = this.cache.get(ip);
        if (!item) return null;
        
        // æ£€æŸ¥TTL
        if (Date.now() - item.timestamp > this.ttl) {
            this.cache.delete(ip);
            this.accessOrder.delete(ip);
            return null;
        }
        
        // æ›´æ–°è®¿é—®é¡ºåº
        this.accessOrder.set(ip, Date.now());
        return item.data;
    }
    
    set(ip, data) {
        // LRUç¼“å­˜ç®¡ç†
        if (this.cache.size >= this.maxSize) {
            const oldestIP = [...this.accessOrder.entries()]
                .sort((a, b) => a[1] - b[1])[0][0];
            this.cache.delete(oldestIP);
            this.accessOrder.delete(oldestIP);
        }
        
        this.cache.set(ip, {
            data: data,
            timestamp: Date.now()
        });
        this.accessOrder.set(ip, Date.now());
    }
    
    async performAnalysis(ip) {
        const response = await fetch(
            `https://grabify.icu/api/analyze/${ip}?cache=false`,
            {
                headers: {
                    'Authorization': 'Bearer YOUR_API_KEY',
                    'X-Cache-Control': 'no-cache'
                }
            }
        );
        return await response.json();
    }
    
    // è·å–ç¼“å­˜ç»Ÿè®¡
    getStats() {
        return {
            size: this.cache.size,
            hitRate: this.hits / (this.hits + this.misses),
            oldestEntry: Math.min(...this.accessOrder.values())
        };
    }
}

// æ‰¹é‡é¢„åŠ è½½çƒ­ç‚¹IP
async function preloadHotIPs(analyzer, ipList) {
    const batchSize = 50;
    const batches = [];
    
    for (let i = 0; i < ipList.length; i += batchSize) {
        batches.push(ipList.slice(i, i + batchSize));
    }
    
    for (const batch of batches) {
        const promises = batch.map(ip => analyzer.analyze(ip));
        await Promise.all(promises);
        
        // æ§åˆ¶è¯·æ±‚é¢‘ç‡
        await new Promise(resolve => setTimeout(resolve, 100));
    }
}</code></pre>
                    </div>
                </section>

                <!-- Best Practices -->
                <section class="mb-5">
                    <h2>å®æ—¶IPåˆ†ææœ€ä½³å®è·µ</h2>
                    
                    <div class="row g-4">
                        <div class="col-md-6">
                            <h4>æŠ€æœ¯å®æ–½å»ºè®®</h4>
                            <ul>
                                <li><strong>å¼‚æ­¥å¤„ç†</strong>ï¼šä½¿ç”¨å¼‚æ­¥APIè°ƒç”¨é¿å…é˜»å¡ç”¨æˆ·ä½“éªŒ</li>
                                <li><strong>æ™ºèƒ½ç¼“å­˜</strong>ï¼šå®æ–½å¤šå±‚ç¼“å­˜ç­–ç•¥æå‡å“åº”é€Ÿåº¦</li>
                                <li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå»ºç«‹å®Œå–„çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶</li>
                                <li><strong>æ•°æ®éªŒè¯</strong>ï¼šéªŒè¯IPåˆ†æç»“æœçš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h4>å®‰å…¨é˜²æŠ¤æªæ–½</h4>
                            <ul>
                                <li><strong>APIå¯†é’¥ä¿æŠ¤</strong>ï¼šå®‰å…¨å­˜å‚¨å’Œå®šæœŸè½®æ¢APIå¯†é’¥</li>
                                <li><strong>è®¿é—®æ§åˆ¶</strong>ï¼šé™åˆ¶APIè®¿é—®æƒé™å’Œé¢‘ç‡</li>
                                <li><strong>æ•°æ®åŠ å¯†</strong>ï¼šç¡®ä¿ä¼ è¾“å’Œå­˜å‚¨æ•°æ®çš„åŠ å¯†ä¿æŠ¤</li>
                                <li><strong>åˆè§„ç›‘æ§</strong>ï¼šéµå®ˆæ•°æ®ä¿æŠ¤æ³•è§„å’Œéšç§æ”¿ç­–</li>
                            </ul>
                        </div>
                    </div>

                    <div class="success-box mt-4">
                        <h5><i class="bi bi-lightbulb text-success"></i> ä¸“å®¶å»ºè®®</h5>
                        <p class="mb-0">å®æ–½å®æ—¶IPåˆ†ææ—¶ï¼Œå»ºè®®é‡‡ç”¨æ¸è¿›å¼éƒ¨ç½²ç­–ç•¥ï¼šä»åŸºç¡€çš„åœ°ç†å®šä½å¼€å§‹ï¼Œé€æ­¥å¢åŠ å¨èƒæ£€æµ‹ã€è®¾å¤‡è¯†åˆ«ç­‰é«˜çº§åŠŸèƒ½ã€‚åŒæ—¶ï¼Œå»ºç«‹å®Œå–„çš„ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§å’Œæ•°æ®å‡†ç¡®æ€§ã€‚</p>
                    </div>
                </section>

                <!-- Conclusion -->
                <section class="mb-5">
                    <h2>æ€»ç»“</h2>
                    <p>å®æ—¶IPåˆ†æå’Œåœ°ç†æƒ…æŠ¥æ˜¯ç°ä»£ç½‘ç»œå®‰å…¨å’Œä¸šåŠ¡æ™ºèƒ½çš„æ ¸å¿ƒæŠ€æœ¯ã€‚é€šè¿‡WhatsTheirIPå¹³å°çš„å¼ºå¤§åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥è·å¾—å…¨é¢çš„ç½‘ç»œè®¿é—®è€…æ´å¯Ÿï¼Œå¢å¼ºå®‰å…¨é˜²æŠ¤èƒ½åŠ›ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒï¼Œå¹¶åšå‡ºæ›´æ˜æ™ºçš„ä¸šåŠ¡å†³ç­–ã€‚</p>
                    
                    <p>æŒæ¡è¿™äº›æŠ€æœ¯å¹¶éµå¾ªæœ€ä½³å®è·µï¼Œå°†å¸®åŠ©æ‚¨æ„å»ºæ›´å®‰å…¨ã€æ›´æ™ºèƒ½çš„ç½‘ç»œåº”ç”¨ç³»ç»Ÿã€‚è®°ä½å§‹ç»ˆä¿æŒæŠ€æœ¯æ›´æ–°ï¼Œå…³æ³¨æ–°å…´å¨èƒï¼Œå¹¶æŒç»­ä¼˜åŒ–åˆ†ææ€§èƒ½ã€‚</p>

                    <div class="text-center mt-4">
                        <a href="../../index.html" class="btn btn-primary btn-lg">ç«‹å³ä½“éªŒWhatsTheirIP</a>
                    </div>
                </section>

                <!-- Related Articles -->
                <section class="mt-5">
                    <h3>ç›¸å…³æ–‡ç« </h3>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h6 class="card-title"><a href="qr-code-url-tracking-guide.html" class="text-decoration-none">äºŒç»´ç URLè¿½è¸ªå®Œæ•´æŒ‡å—</a></h6>
                                    <p class="card-text small text-muted">å­¦ä¹ å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨æ™ºèƒ½äºŒç»´ç è¿›è¡ŒURLè¿½è¸ª</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h6 class="card-title"><a href="pdf-tracking-document-intelligence.html" class="text-decoration-none">PDFè·Ÿè¸ªå’Œæ–‡æ¡£æ™ºèƒ½æŒ‡å—</a></h6>
                                    <p class="card-text small text-muted">æŒæ¡PDFæ–‡æ¡£è·Ÿè¸ªå’Œæ™ºèƒ½åˆ†ææŠ€æœ¯</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>WhatsTheirIP</h5>
                    <p>é¢†å…ˆçš„IPåˆ†æå’Œç½‘ç»œæƒ…æŠ¥å¹³å°ï¼Œä¸ºä¼ä¸šæä¾›å…¨é¢çš„ç½‘ç»œå®‰å…¨å’Œä¸šåŠ¡æ´å¯Ÿè§£å†³æ–¹æ¡ˆã€‚</p>
                </div>
                <div class="col-md-6">
                    <h5>å¿«é€Ÿé“¾æ¥</h5>
                    <ul class="list-unstyled">
                        <li><a href="../../index.html" class="text-light text-decoration-none">é¦–é¡µ</a></li>
                        <li><a href="../index.html" class="text-light text-decoration-none">åšå®¢</a></li>
                        <li><a href="../../index.html#privacy" class="text-light text-decoration-none">éšç§æ”¿ç­–</a></li>
                    </ul>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p>&copy; 2025 WhatsTheirIP. ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
